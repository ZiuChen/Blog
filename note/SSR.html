<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>服务端渲染 | ZiuChen</title>
    <meta name="description" content="Unlimited Progress.">
    <meta name="generator" content="VitePress v1.1.0">
    <link rel="preload stylesheet" href="/assets/style.X-g-8bG0.css" as="style">
    
    <script type="module" src="/assets/app.B63Jyi02.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.DKE0jNKv.js">
    <link rel="modulepreload" href="/assets/chunks/theme.CuFF5wLM.js">
    <link rel="modulepreload" href="/assets/note_SSR.md.B8xwNiF5.lean.js">
    <link rel="icon" href="/logo.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-e97aaf30><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8ed1daf8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8ed1daf8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-e97aaf30 data-v-ea742825><div class="VPNavBar has-sidebar top" data-v-ea742825 data-v-23722b69><div class="wrapper" data-v-23722b69><div class="container" data-v-23722b69><div class="title" data-v-23722b69><div class="VPNavBarTitle has-sidebar" data-v-23722b69 data-v-aafc4330><a class="title" href="/" data-v-aafc4330><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-7e6e8803><!--]--><span data-v-aafc4330>ZiuChen</span><!--[--><!--]--></a></div></div><div class="content" data-v-23722b69><div class="content-body" data-v-23722b69><!--[--><!--]--><div class="VPNavBarSearch search" data-v-23722b69><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-23722b69 data-v-20e5fe06><span id="main-nav-aria-label" class="visually-hidden" data-v-20e5fe06>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-20e5fe06 data-v-fd060e83><!--[--><span data-v-fd060e83>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-20e5fe06 data-v-1710a902><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-1710a902><span class="text" data-v-1710a902><!----><span data-v-1710a902>我的项目</span><span class="vpi-chevron-down text-icon" data-v-1710a902></span></span></button><div class="menu" data-v-1710a902><div class="VPMenu" data-v-1710a902 data-v-f8283398><div class="items" data-v-f8283398><!--[--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/project/ClipboardManager/" data-v-12b6ab6c><!--[-->超级剪贴板<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/project/Markdown/" data-v-12b6ab6c><!--[-->超级Markdown<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/project/JSRunner/" data-v-12b6ab6c><!--[-->超级JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/project/SmartWordBreak/" data-v-12b6ab6c><!--[-->超级分词<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-20e5fe06 data-v-1710a902><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-1710a902><span class="text" data-v-1710a902><!----><span data-v-1710a902>开源作品</span><span class="vpi-chevron-down text-icon" data-v-1710a902></span></span></button><div class="menu" data-v-1710a902><div class="VPMenu" data-v-1710a902 data-v-f8283398><div class="items" data-v-f8283398><!--[--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/works/opensource.html" data-v-12b6ab6c><!--[-->个人作品<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/works/contribution.html" data-v-12b6ab6c><!--[-->社区贡献<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-20e5fe06 data-v-1710a902><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-1710a902><span class="text" data-v-1710a902><!----><span data-v-1710a902>学习笔记</span><span class="vpi-chevron-down text-icon" data-v-1710a902></span></span></button><div class="menu" data-v-1710a902><div class="VPMenu" data-v-1710a902 data-v-f8283398><div class="items" data-v-f8283398><!--[--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/JavaScript.html" data-v-12b6ab6c><!--[-->JavaScript基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/CSS.html" data-v-12b6ab6c><!--[-->CSS基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/JavaScriptEnhanced.html" data-v-12b6ab6c><!--[-->JavaScript进阶<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/Front-end%20Engineering.html" data-v-12b6ab6c><!--[-->前端工程化<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link active" href="/note/SSR.html" data-v-12b6ab6c><!--[-->服务端渲染<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/React.html" data-v-12b6ab6c><!--[-->React基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/React%20Hooks.html" data-v-12b6ab6c><!--[-->React Hooks<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/Redux.html" data-v-12b6ab6c><!--[-->Redux<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/React%20Router.html" data-v-12b6ab6c><!--[-->React Router<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/MySQL.html" data-v-12b6ab6c><!--[-->MySQL<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f8283398 data-v-12b6ab6c><a class="VPLink link" href="/note/Rust.html" data-v-12b6ab6c><!--[-->Rust<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/self/" tabindex="0" data-v-20e5fe06 data-v-fd060e83><!--[--><span data-v-fd060e83>个人介绍</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-23722b69 data-v-f37c1762><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-f37c1762 data-v-b740ff5f data-v-b20d383c><span class="check" data-v-b20d383c><span class="icon" data-v-b20d383c><!--[--><span class="vpi-sun sun" data-v-b740ff5f></span><span class="vpi-moon moon" data-v-b740ff5f></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-23722b69 data-v-6dd4a0d5 data-v-4b891453><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ZiuChen" aria-label="github" target="_blank" rel="noopener" data-v-4b891453 data-v-a713af54><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://juejin.cn/user/1887205216238477" aria-label target="_blank" rel="noopener" data-v-4b891453 data-v-a713af54><svg width="36" height="28" viewBox="0 0 36 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5875 6.77268L21.8232 3.40505L17.5875 0.00748237L17.5837 0L13.3555 3.39757L17.5837 6.76894L17.5875 6.77268ZM17.5863 17.3955H17.59L28.5161 8.77432L25.5526 6.39453L17.59 12.6808H17.5863L17.5825 12.6845L9.61993 6.40201L6.66016 8.78181L17.5825 17.3992L17.5863 17.3955ZM17.5828 23.2891L17.5865 23.2854L32.2133 11.7456L35.1768 14.1254L28.5238 19.3752L17.5865 28L0.284376 14.3574L0 14.1291L2.95977 11.7531L17.5828 23.2891Z" fill="#1E80FF"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-23722b69 data-v-c3c0a5c9 data-v-1710a902><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-1710a902><span class="vpi-more-horizontal icon" data-v-1710a902></span></button><div class="menu" data-v-1710a902><div class="VPMenu" data-v-1710a902 data-v-f8283398><!----><!--[--><!--[--><!----><div class="group" data-v-c3c0a5c9><div class="item appearance" data-v-c3c0a5c9><p class="label" data-v-c3c0a5c9>Appearance</p><div class="appearance-action" data-v-c3c0a5c9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-c3c0a5c9 data-v-b740ff5f data-v-b20d383c><span class="check" data-v-b20d383c><span class="icon" data-v-b20d383c><!--[--><span class="vpi-sun sun" data-v-b740ff5f></span><span class="vpi-moon moon" data-v-b740ff5f></span><!--]--></span></span></button></div></div></div><div class="group" data-v-c3c0a5c9><div class="item social-links" data-v-c3c0a5c9><div class="VPSocialLinks social-links-list" data-v-c3c0a5c9 data-v-4b891453><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ZiuChen" aria-label="github" target="_blank" rel="noopener" data-v-4b891453 data-v-a713af54><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://juejin.cn/user/1887205216238477" aria-label target="_blank" rel="noopener" data-v-4b891453 data-v-a713af54><svg width="36" height="28" viewBox="0 0 36 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5875 6.77268L21.8232 3.40505L17.5875 0.00748237L17.5837 0L13.3555 3.39757L17.5837 6.76894L17.5875 6.77268ZM17.5863 17.3955H17.59L28.5161 8.77432L25.5526 6.39453L17.59 12.6808H17.5863L17.5825 12.6845L9.61993 6.40201L6.66016 8.78181L17.5825 17.3992L17.5863 17.3955ZM17.5828 23.2891L17.5865 23.2854L32.2133 11.7456L35.1768 14.1254L28.5238 19.3752L17.5865 28L0.284376 14.3574L0 14.1291L2.95977 11.7531L17.5828 23.2891Z" fill="#1E80FF"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-23722b69 data-v-040d7c83><span class="container" data-v-040d7c83><span class="top" data-v-040d7c83></span><span class="middle" data-v-040d7c83></span><span class="bottom" data-v-040d7c83></span></span></button></div></div></div></div><div class="divider" data-v-23722b69><div class="divider-line" data-v-23722b69></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-e97aaf30 data-v-fe656cca><div class="container" data-v-fe656cca><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-fe656cca><span class="vpi-align-left menu-icon" data-v-fe656cca></span><span class="menu-text" data-v-fe656cca>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-fe656cca data-v-33a828c9><button data-v-33a828c9>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-e97aaf30 data-v-1868d097><div class="curtain" data-v-1868d097></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-1868d097><span class="visually-hidden" id="sidebar-aria-label" data-v-1868d097> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-1868d097><section class="VPSidebarItem level-0" data-v-1868d097 data-v-9d43a1cf><div class="item" role="button" tabindex="0" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><h2 class="text" data-v-9d43a1cf>我的项目</h2><!----></div><div class="items" data-v-9d43a1cf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/project/ClipboardManager/" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>超级剪贴板</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/project/Markdown/" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>超级Markdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/project/JSRunner/" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>超级JavaScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/project/SmartWordBreak/" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>超级分词</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-1868d097><section class="VPSidebarItem level-0 collapsible collapsed" data-v-1868d097 data-v-9d43a1cf><div class="item" role="button" tabindex="0" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><h2 class="text" data-v-9d43a1cf>开源作品</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-9d43a1cf><span class="vpi-chevron-right caret-icon" data-v-9d43a1cf></span></div></div><div class="items" data-v-9d43a1cf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/works/opensource.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>个人作品</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/works/contribution.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>社区贡献</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-1868d097><section class="VPSidebarItem level-0 collapsible collapsed" data-v-1868d097 data-v-9d43a1cf><div class="item" role="button" tabindex="0" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><h2 class="text" data-v-9d43a1cf>文章归档</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-9d43a1cf><span class="vpi-chevron-right caret-icon" data-v-9d43a1cf></span></div></div><div class="items" data-v-9d43a1cf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E3%80%902023%E3%80%91%E9%9D%92%E8%AE%AD%E8%90%A5%20-%20%E5%89%8D%E7%AB%AF%E7%BB%83%E4%B9%A0%E9%A2%98%E6%B1%87%E6%80%BB%E8%A7%A3%E6%9E%90.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>【2023】青训营 - 前端练习题汇总解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E3%80%90%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8%E3%80%91%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>【字节跳动】前端面试题总结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E3%80%90%E5%BF%AB%E6%89%8B%E3%80%91%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>【快手】深入理解前端面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E3%80%90%E7%94%A8%E5%8F%8B%E9%87%91%E8%9E%8D%E3%80%91%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>【用友金融】前端面试题总结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E4%B8%8E%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>一文读懂事件冒泡与事件捕获</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82%E4%BC%AA%E7%B1%BB%E4%B8%8E%E4%BC%AA%E5%85%83%E7%B4%A0.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>一文读懂伪类与伪元素</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82%E5%87%BD%E6%95%B0%E4%B8%ADthis%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>一文读懂函数中this指向问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E4%BB%8E0%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%B9%B4%E5%BA%A6%E6%8A%A5%E5%91%8A.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>从0实现一个年度报告</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6%E3%80%81%E5%AD%98%E5%82%A8%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>彻底搞懂对象的数据属性描述符、存储属性描述符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E6%B5%85%E6%9E%90defineProperty%E4%B8%8EProxy%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>浅析defineProperty与Proxy实现的双向绑定</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E6%B7%B1%E5%85%A5JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>深入JavaScript数据类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E6%B7%B1%E5%85%A5Vue3%E6%BA%90%E7%A0%81%EF%BC%8C%E7%9C%8B%E7%9C%8BVue.use%E5%90%8E%E7%A9%B6%E7%AB%9F%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>深入Vue3源码，看看Vue.use后究竟发生了什么？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Proxy%E4%B8%8EReflect.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>深入理解Proxy与Reflect</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>深入理解浏览器缓存机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9d43a1cf data-v-9d43a1cf><div class="item" data-v-9d43a1cf><div class="indicator" data-v-9d43a1cf></div><a class="VPLink link link" href="/article/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86.html" data-v-9d43a1cf><!--[--><p class="text" data-v-9d43a1cf>深入理解浏览器运行原理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-e97aaf30 data-v-51a30b51><div class="VPDoc has-sidebar has-aside" data-v-51a30b51 data-v-bd80e38e><!--[--><!--]--><div class="container" data-v-bd80e38e><div class="aside" data-v-bd80e38e><div class="aside-curtain" data-v-bd80e38e></div><div class="aside-container" data-v-bd80e38e><div class="aside-content" data-v-bd80e38e><div class="VPDocAside" data-v-bd80e38e data-v-9bcb1782><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-9bcb1782 data-v-50e8fb61><div class="content" data-v-50e8fb61><div class="outline-marker" data-v-50e8fb61></div><div class="outline-title" role="heading" aria-level="2" data-v-50e8fb61>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-50e8fb61><span class="visually-hidden" id="doc-outline-aria-label" data-v-50e8fb61> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-50e8fb61 data-v-54dbe900><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-9bcb1782></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-bd80e38e><div class="content-container" data-v-bd80e38e><!--[--><!--]--><main class="main" data-v-bd80e38e><div style="position:relative;" class="vp-doc _note_SSR" data-v-bd80e38e><div><h1 id="服务端渲染" tabindex="-1">服务端渲染 <a class="header-anchor" href="#服务端渲染" aria-label="Permalink to &quot;服务端渲染&quot;">​</a></h1><h2 id="邂逅spa和ssr" tabindex="-1">邂逅SPA和SSR <a class="header-anchor" href="#邂逅spa和ssr" aria-label="Permalink to &quot;邂逅SPA和SSR&quot;">​</a></h2><p>我们使用Vue开发的网页一般都是单页面应用程序（SPA Single Page Application）</p><ul><li>SPA应用是在客户端呈现的，我们称这个渲染过程为CSR（Client Side Rendering）</li><li>常见的B端Web应用开发模式，<strong>渲染工作在客户端进行，服务器压力较轻</strong>，服务器直接返回未经加工的<code>.html</code>文件</li><li>所需要的资源（HTML CSS JS等），在一次请求中就加载完成，首屏时间更长，需要额外的首屏优化</li></ul><p>与之相对的，就是服务端渲染（SSR Server Side Rendering）</p><ul><li>SSR并不是什么新鲜的概念，早期的JSP或PHP就已经体现了服务端渲染的原理</li><li>但是传统开发模式，代码耦合度较高，不容易维护</li></ul><p>于是，同构SSR应运而生，我们称之为BFF（Backend for Frontend 服务于前端的后端）</p><ul><li>前后端一体化，一套Vue / React代码在服务器上运行一遍，在到达浏览器又运行一遍。</li><li>前后端都参与到渲染中，并且首次渲染出的HTML相同</li></ul><p>浏览器请求<code>.html</code>文件 =&gt; 服务端运行Vue / React代码并生成<code>.html</code> =&gt; 发送<code>.html</code>文件给浏览器 =&gt; 浏览器显示网页内容</p><p>=&gt; 浏览器加载JS文件 =&gt; 绑定DOM事件 客户端渲染接管界面 =&gt; 再次跳转路由就是客户端渲染 无需请求后台</p><h3 id="spa的优点与缺点" tabindex="-1">SPA的优点与缺点 <a class="header-anchor" href="#spa的优点与缺点" aria-label="Permalink to &quot;SPA的优点与缺点&quot;">​</a></h3><ul><li>SPA的优点 <ul><li>只需要加载一次 更好的用户体验 <ul><li>只有一个<code>.html</code>文件，页面切换不需要重新加载，所以比传统Web应用程序更快</li></ul></li><li>轻松构建功能丰富的Web应用程序</li></ul></li><li>SPA的缺点 <ul><li>SPA应用默认只返回一个空HTML文件，不利于SEO</li><li>首屏加载资源过大，影响首屏渲染速度</li><li>不利于复杂项目构建</li></ul></li></ul><h3 id="seo优化" tabindex="-1">SEO优化 <a class="header-anchor" href="#seo优化" aria-label="Permalink to &quot;SEO优化&quot;">​</a></h3><ul><li>语义性HTML标记 <ul><li>标题用 <code>h1</code>，一个页面只应当由一个 <code>h1</code> 标签，副标题用 <code>h2 - h6</code></li><li>不要过度使用 <code>h</code> 标签，多次使用不会增加SEO</li><li>段落用 <code>p</code> 标签 列表用 <code>ul</code> 标签，且 <code>li</code> 只放在 <code>ul</code> 中</li></ul></li><li>每个页面都需要包含标题+内部链接 <ul><li>每个页面对应的title，同一个网站所有页面都有内链可以指向首页</li></ul></li><li>保证链接可供抓取 <ul><li><code>&lt;a href=&quot;https://www.example.com&quot; /&gt;</code></li><li><code>&lt;a href=&quot;/relative/path/file&quot; /&gt;</code></li></ul></li><li>meta标签优化：设置description和keywords等</li><li>文本标记和img <ul><li>比如<code>&lt;b&gt;</code>和<code>&lt;strong&gt;</code>加粗文本的标签，爬虫会关注到该内容</li><li><code>img</code>标签添加<code>alt</code>属性，图片加载失败时供爬虫读取<code>alt</code>内容</li></ul></li><li>robots.txt 文件，规定爬虫可以访问网址上的哪些页面</li><li>sitemap.xml 站点地图，在站点地图列出所有网页，确保爬虫不会漏掉某些网页</li></ul><h2 id="服务端渲染-ssr" tabindex="-1">服务端渲染 SSR <a class="header-anchor" href="#服务端渲染-ssr" aria-label="Permalink to &quot;服务端渲染 SSR&quot;">​</a></h2><p>服务端渲染 SSR （Server Side Rendering）</p><ul><li>页面是在服务端渲染的，用户每请求一个SSR页面，都会先在服务端渲染</li><li>服务端渲染完成后，返回给浏览器呈现，浏览器发现JS脚本，解析脚本，向服务器发起请求，之后网页就可以交互了 <ul><li><code>app = createSSRApp(App)</code> <code>renderToString(app) =&gt; App String Html</code></li><li><code>client_bundle.js</code> 客户端通过脚本激活应用程序 让应用程序可以进行交互，这个过程叫水合（ Hydration）</li></ul></li><li>Vue Nuxt / React Next.js，SSR应用也称为同构应用（server_bundle.js &amp; client_bundle.js）</li></ul><h3 id="ssr的优点" tabindex="-1">SSR的优点 <a class="header-anchor" href="#ssr的优点" aria-label="Permalink to &quot;SSR的优点&quot;">​</a></h3><ul><li>更快的首屏渲染速度 <ul><li>浏览器显示静态页面的内容要比JavaScript动态生成的内容快得多</li><li>用户访问首页时立刻返回静态页面内容，而不需要等待浏览器先加载完整个SPA应用的JS代码</li></ul></li><li>更好的SEO <ul><li>爬虫擅长爬取HTML页面，服务端直接返回一个静态的HTML给浏览器</li><li>有利于爬虫快速爬取网页内容，并编入索引，有利于SEO</li></ul></li><li>SSR 应用程序在 Hydration 之后仍然可以保留Web应用程序的可交互性 <ul><li>如：前端路由、响应式数据、虚拟DOM等</li></ul></li></ul><h3 id="ssr的缺点" tabindex="-1">SSR的缺点 <a class="header-anchor" href="#ssr的缺点" aria-label="Permalink to &quot;SSR的缺点&quot;">​</a></h3><ul><li>SSR 通过需要对服务器进行更多的API调用，在服务端渲染需要消耗更多的服务器资源，成本较高</li><li>100个人访问这个网站，服务器就要为每个人渲染100次</li><li>增加了一定的开发成本，开发者需要关心哪些代码是运行在服务端的，哪些则是运行在浏览器的</li><li>SSR配置站点的缓存通常会比SPA站点要更复杂</li></ul><h3 id="ssr-解决方案" tabindex="-1">SSR 解决方案 <a class="header-anchor" href="#ssr-解决方案" aria-label="Permalink to &quot;SSR 解决方案&quot;">​</a></h3><ul><li>传统方案：PHP JSP ...</li><li>从0开始，搭建SSR项目：Node+Webpack+Vue/React</li><li>选用现成的框架 <ul><li>React Next.js</li><li>Vue3 + Nuxt3 || Vue2 + Nuxt.js</li></ul></li></ul><h2 id="静态网站生成-ssg" tabindex="-1">静态网站生成 SSG <a class="header-anchor" href="#静态网站生成-ssg" aria-label="Permalink to &quot;静态网站生成 SSG&quot;">​</a></h2><p>静态网页生成 SSG（Static Site Generate）</p><ul><li>SSG应用在构建阶段就确定了<code>.html</code>页面的内容</li><li>用户访问网站，服务器直接返回<code>.html</code>文件给客户端，相当于一个静态资源</li><li>优点 <ul><li>直接返回静态的<code>html</code>文件，有利于SEO</li><li>相比于SSR，不需要每次请求都由服务端处理，所以可以大幅减轻服务端压力，也可以将文件放到CDN上优化访问速度</li><li>保留了SPA应用的特性，比如前端路由、响应式数据、虚拟DOM等</li></ul></li><li>缺点 <ul><li>如果网站的内容需要更新，那么需要重新构建与部署</li><li>只能生成偏静态的页面，不利于与用户的交互，所有用户获取到的页面都是相同的</li></ul></li><li>哪些应用场景：文档站、个人博客、新闻站点等</li></ul><h3 id="ssr与ssg的优势" tabindex="-1">SSR与SSG的优势 <a class="header-anchor" href="#ssr与ssg的优势" aria-label="Permalink to &quot;SSR与SSG的优势&quot;">​</a></h3><ul><li>更短的首屏时间 <ul><li>只需要请求一个HTML文件就能展示出页面</li><li>虽然在服务端仍然需要调取相关接口，但是服务器-服务器之间的通信远比客户端快，有时甚至是同一台服务器的本地接口</li><li>不再需要大量的js文件请求，这就使得SSR/SSG可以拥有更短的首屏时间</li></ul></li></ul><h3 id="跨请求状态污染" tabindex="-1">跨请求状态污染 <a class="header-anchor" href="#跨请求状态污染" aria-label="Permalink to &quot;跨请求状态污染&quot;">​</a></h3><ul><li><p>在SPA中，整个生命周期只有一个App对象实例/一个Router对象实例/一个Store对象实例</p><ul><li>因为每个用户使用SPA时，各自的渲染进程都是在自己的浏览器上独立进行的，这是一种<strong>单例模式</strong></li></ul></li><li><p>然而在SSR的环境下，App模块通常只在</p><p>服务器启动时</p><p>初始化一次，同一个应用模块会在多个服务器请求之间被复用</p><ul><li>单例状态对象也会在多个请求之间被复用：</li><li>某个用户对共享的单例状态进行修改，那么这个状态可能会意外地泄露给另一位正在请求的用户</li><li>我们将这种情况称为：<strong>跨请求状态污染</strong></li></ul></li><li><p>为了避免这种跨请求状态污染，SSR的解决方案是：</p><ul><li>在每个请求中，为整个应用创建一个<strong>全新的实例</strong>，包括后面的Router和Store等实例</li><li>带来的缺点就是：需要消耗更多的服务器资源</li></ul></li></ul><h2 id="nuxt3-系统学习" tabindex="-1">Nuxt3 系统学习 <a class="header-anchor" href="#nuxt3-系统学习" aria-label="Permalink to &quot;Nuxt3 系统学习&quot;">​</a></h2><ul><li>邂逅Nuxt3</li><li>Nuxt3 初体验</li><li>Nuxt3 全局配置</li><li>Nuxt3 内置组件</li><li>Nuxt3 样式和资源</li><li>Nuxt3 页面和导航</li><li>Nuxt3 动态路由</li></ul><h3 id="认识nuxt3" tabindex="-1">认识Nuxt3 <a class="header-anchor" href="#认识nuxt3" aria-label="Permalink to &quot;认识Nuxt3&quot;">​</a></h3><ul><li>支持数据双向绑定和组件化：Vue.js</li><li>处理客户端导航：Vue Router</li><li>支持开发中热模块替换、生产环境代码打包：Webpack5 Vite</li><li>兼容旧版浏览器，支持ES6+语法转译：ESBuild</li><li>支持开发环境服务器，支持服务端渲染/API接口转发</li><li>使用<code>h3</code>实现部署<strong>可移植性</strong>（<code>h3</code>是一个极小的高性能http框架） <ul><li>如：支持在Serverless、Worker、Node.js环境中运行</li></ul></li></ul><h3 id="搭建nuxt3环境" tabindex="-1">搭建Nuxt3环境 <a class="header-anchor" href="#搭建nuxt3环境" aria-label="Permalink to &quot;搭建Nuxt3环境&quot;">​</a></h3><p>使用命令行工具 <code>Nuxi</code> 初始化Nuxt：</p><ul><li><code>npx nuxi init project-name</code></li><li><code>pnpm dlx nuxi init project-name</code></li><li><code>npm install -g nuxi &amp;&amp; nuxi init project-name</code></li></ul><p>解读脚手架创建的初始化项目的<code>package.json</code>中的脚本：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;private&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nuxt build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nuxt dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;generate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nuxt generate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;preview&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nuxt preview&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;postinstall&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nuxt prepare&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;nuxt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^3.2.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li><code>build</code> 构建正式版本，将被输出到<code>.output</code>文件夹</li><li><code>dev</code> 开发环境</li><li><code>generate</code> 打包正式版本项目，但是会预渲染每个路由（<code>nuxt build --prerender</code>）</li><li><code>preview</code> 对打包项目启动本地预览服务器</li><li><code>postinstall</code> 该脚本为NPM的生命周期函数，将在<code>npm install</code>后执行</li></ul><p>针对<code>postinstall</code>中执行的<code>nuxi prepare</code>脚本，官方文档有如下解释：</p><blockquote><p>The <code>prepare</code> command creates a <code>.nuxt</code> directory in your application and generates types. This can be useful in a CI environment or as a <code>postinstall</code> command in your <code>package.json</code>.</p></blockquote><p>执行该脚本后，将在项目根目录创建<code>.nuxt</code>文件夹</p><ul><li>这个文件夹将作为默认构建输出的文件夹</li><li>其中的文件都以<code>.d.ts</code>结尾，是Nuxt的TS类型声明</li></ul><h3 id="配置-configuration" tabindex="-1">配置 Configuration <a class="header-anchor" href="#配置-configuration" aria-label="Permalink to &quot;配置 Configuration&quot;">​</a></h3><ul><li>通过 <code>nuxt.config.ts</code> 文件，对Nuxt进行自定义配置</li><li><code>runtimeConfig</code> 运行时配置 即定义<strong>环境变量</strong><ul><li>直接定义在 <code>runtimeConfig</code> 中的值，仅在服务端可以访问到 <ul><li>定义在<code>runtimeConfig.public</code>中的变量，在客户端和服务端中都能读取到</li><li>也可以将环境变量定义在<code>.env</code>文件中，优先级<code>.env &gt; runtimeConfig</code><ul><li>以<code>NUXT_</code>开头的会作为私有环境变量读取到运行时</li><li>以<code>NUXT_PUBLIC_</code>开头的会作为公共变量读取到运行时</li></ul></li></ul></li><li><code>appConfig</code> 应用配置，定义在<strong>构建时</strong>确定的公共变量，如 theme <ul><li>配置会和app.config.ts合并，优先级<code>app.config.ts &gt; appConfig</code></li></ul></li><li><code>app</code> app的配置</li><li><code>head</code> 给每个页面设置head信息，也支持useHead配置和内置组件 <ul><li>在这个配置中定义的标签，会注入到所有页面的head标签中</li><li>也可以在某些页面动态插入head标签内容 使用<code>useHead</code>函数</li><li>或者在template中使用Nuxt的内置组件<code>Head</code></li></ul></li><li><code>ssr</code> 指定应用渲染模式 <ul><li>默认值为true 即采用SSR方式渲染应用</li><li>如果指定了<code>ssr: false</code> 则会采用SPA的方式渲染应用，即客户端渲染</li></ul></li><li><code>router</code> 配置路由相关的信息，比如在客户端渲染可以配置hash路由 <ul><li>需要注意的是：SSR并不支持哈希路由</li><li><code>router: { options: { hashMode: false } }</code></li></ul></li><li><code>alias</code> 路径别名 <ul><li>默认已经为我们配置好了一些别名，详情可以参阅文档</li></ul></li><li><code>modules</code> 配置Nuxt扩展的模块，比如<code>@pinia/nuxt</code> <code>@nuxt/image</code></li><li><code>routeRules</code> 定义路由规则，可以更改路由的渲染模式或分配基于路由缓存策略</li><li><code>builder</code> 指定使用Vite还是Webpack来构建应用，默认是Vite，如切换为Webpack还需要安装额外依赖</li></ul></li></ul><h4 id="runtimeconfig-与-appconfig" tabindex="-1">runtimeConfig 与 appConfig <a class="header-anchor" href="#runtimeconfig-与-appconfig" aria-label="Permalink to &quot;runtimeConfig 与 appConfig&quot;">​</a></h4><ul><li><code>runtimeConfig</code>: 定义<strong>环境变量</strong>，比如：<strong>运行时</strong>需要指定的私有/公共的token等</li><li><code>appConfig</code>: 定义<strong>公共变量</strong>，比如：<strong>构建时</strong>确定的公共token、网站配置等</li></ul><p>针对他们的比较，官方文档提供了一个表格可以参阅：</p><table><thead><tr><th>Feature</th><th>runtimeConfig</th><th>app.config</th></tr></thead><tbody><tr><td>Client Side</td><td>Hydrated</td><td>Bundled</td></tr><tr><td>Environment Variables</td><td>✅ Yes</td><td>❌ No</td></tr><tr><td>Reactive</td><td>✅ Yes</td><td>✅ Yes</td></tr><tr><td>Types support</td><td>✅ Partial</td><td>✅ Yes</td></tr><tr><td>Configuration per Request</td><td>❌ No</td><td>✅ Yes</td></tr><tr><td>Hot Module Replacement</td><td>❌ No</td><td>✅ Yes</td></tr><tr><td>Non primitive JS types</td><td>❌ No</td><td>✅ Yes</td></tr></tbody></table><p><a href="https://nuxt.com/docs/getting-started/configuration#runtimeconfig-vs-appconfig" target="_blank" rel="noreferrer">runtimeconfig-vs-appconfig</a></p><h4 id="区分client和server环境" tabindex="-1">区分Client和Server环境 <a class="header-anchor" href="#区分client和server环境" aria-label="Permalink to &quot;区分Client和Server环境&quot;">​</a></h4><p>Nuxt为我们扩展了Node的process对象，并为我们在浏览器环境提供了process对象：</p><ul><li>Nuxt会在服务端的process对象中注入属性<code>dev</code> <code>server</code> <code>client</code>以供使用</li><li>也会在浏览器网页中注入process对象，包含上述的三个属性</li><li>也可以手动判断<code>typeof window === &#39;object&#39;</code>检查是服务器环境/浏览器环境</li></ul><h3 id="页面与组件-view-and-component" tabindex="-1">页面与组件 View and Component <a class="header-anchor" href="#页面与组件-view-and-component" aria-label="Permalink to &quot;页面与组件 View and Component&quot;">​</a></h3><p>Nuxt会自动为我们：注册组件、注册页面路由，<em>约定&gt;配置</em></p><ul><li>位于<code>pages/</code>下的页面都会被注册路由 <ul><li>路由使用内置组件NuxtPage占位，相当于router-view</li><li>相对应的，可以使用NuxtLink执行跳转，相当于router-link</li><li>因为底层是vue-router，所以动态路由、嵌套路由都是支持的</li></ul></li><li>位于<code>components/</code>下的组件都会被自动全局注册</li></ul><h4 id="nuxt3-内置组件" tabindex="-1">Nuxt3 内置组件 <a class="header-anchor" href="#nuxt3-内置组件" aria-label="Permalink to &quot;Nuxt3 内置组件&quot;">​</a></h4><p>Nuxt3 框架提供了一些内置的组件，常用的如下：</p><ul><li>SEO组件：Html Body Head Title Meta Style Link NoScript Base <ul><li>这些组件的作用是，向页面中不同部分插入标签，在SSR的过程中渲染出来并返回给客户端</li><li>这样爬虫就会在同步获取页面数据时获取到这些标签</li></ul></li><li>NuxtPage：是Nuxt自带的页面占位组件 <ul><li>需要显示位于目录中的顶级或嵌套页面<code>pages/</code></li><li><strong>是对 router-view 的封装</strong></li></ul></li><li>ClientOnly：该组件包裹的内容只会在客户端渲染 <ul><li>其中内容不会出现在服务端返回的<code>.html</code>文件中</li><li>会在客户端通过JS脚本动态渲染出来 <ul><li>类似于Vue3新增的内置组件Suspence</li><li>可以为其传入具名插槽#fallback展示组件被渲染前的加载中状态</li></ul></li></ul></li><li>ServerOnly：该组件包裹的内容只会在服务端渲染</li></ul><h3 id="创建页面" tabindex="-1">创建页面 <a class="header-anchor" href="#创建页面" aria-label="Permalink to &quot;创建页面&quot;">​</a></h3><p>文件目录即路由，，可以手动创建 也可以通过命令行快速创建页面</p><ul><li><p><code>npx nuxi pages category/index</code>: 创建<code>pages/category/index.vue</code></p></li><li><p><code>npx nuxi pages home/index</code>: 创建<code>pages/home/index.vue</code></p></li><li><p><code>npx nuxi pages detail/[id]</code>: 创建<code>pages/detail/[id].vue</code> 动态路由</p></li><li><p>页面路由</p><ul><li>页面水合之后，页面导航会通过前端路由来实现，可以防止整页刷新</li><li>当然，手动输入URL之后，点击刷新浏览器也可以导航，但这会导致整页刷新</li></ul></li></ul><h4 id="路由中间件" tabindex="-1">路由中间件 <a class="header-anchor" href="#路由中间件" aria-label="Permalink to &quot;路由中间件&quot;">​</a></h4><p>Nuxt提供了一个可定制的路由中间件，用来<strong>监听路由的导航</strong>，包括：局部和全局监听</p><ul><li>匿名中间件 <ul><li><strong>在页面中</strong>，通过<code>definePageMeta</code>定义</li><li>可以监听局部路由，当注册多个中间件时，会按照注册顺序执行</li><li>首次访问会在双端执行，后续都<strong>只会在客户端执行</strong></li></ul></li><li>命名路由中间件 <ul><li>在<code>middleware</code>目录下定义，会自动加载中间件</li><li>首次访问会在双端执行，后续都<strong>只会在客户端执行</strong></li></ul></li><li>全局路由中间件 <ul><li>在<code>middleware</code>目录中，需要带<code>.global</code>后缀的文件，每次路由更改会自动运行</li><li>与前两者不同，<strong>每次页面切换，双端都会执行全局中间件</strong></li></ul></li></ul><h4 id="路由验证-validate" tabindex="-1">路由验证 Validate <a class="header-anchor" href="#路由验证-validate" aria-label="Permalink to &quot;路由验证 Validate&quot;">​</a></h4><p>Nuxt支持对每个页面路由进行验证，可以通过<code>definePageMeta</code>中的<code>validate</code>数学对路由进行验证</p><ul><li>validate属性接收一个回调函数，回调函数以<code>route</code>作为参数 <ul><li>此回调返回一个布尔值，来决定是否放行路由 <ul><li><code>false</code> 拦截路由 默认重定向到404页面</li><li><code>true</code> 放行路由 正常跳转</li></ul></li><li>返回一个对象 <ul><li><code>{ statusCode: 401 }</code> 返回自定义的 401 页面 验证失败</li></ul></li></ul></li><li>可以自定义错误页面 <ul><li>在项目根目录 新建<code>error.vue</code></li></ul></li></ul><h3 id="页面布局-layout" tabindex="-1">页面布局 Layout <a class="header-anchor" href="#页面布局-layout" aria-label="Permalink to &quot;页面布局 Layout&quot;">​</a></h3><p>Layout布局是页面的包装器，可以将多个页面共性的东西抽取到Layout布局中</p><p>例如：每个页面的页眉和页脚，这些具有共性的组件，我们可以写到一个Layout布局中</p><p>本质上是Vue3的<code>&lt;slot&gt;</code>组件</p><ul><li>默认布局，创建<code>layouts/default.vue</code><ul><li>然后在<code>app.vue</code>中通过内置组件<code>&lt;NuxtLayout&gt;</code>使用</li></ul></li><li>自定义布局 <ul><li>创建<code>layouts/custom-layout.vue</code></li><li>然后在<code>app.vue</code>中，为<code>&lt;NuxtLayout&gt;</code>传入<code>name</code>属性（具名插槽）</li></ul></li></ul><h3 id="渲染模式" tabindex="-1">渲染模式 <a class="header-anchor" href="#渲染模式" aria-label="Permalink to &quot;渲染模式&quot;">​</a></h3><p>浏览器和服务器都可以解释JavaScript代码，都可以将Vue.js组件呈现为HTML元素，此过程称为渲染</p><ul><li>在客户端渲染组件为HTML元素的过程，称为客户端渲染</li><li>在服务端完成这个此操作的过程，称为服务端渲染</li></ul><p>而Nuxt3支持多种渲染模式</p><ul><li>之前在配置文件中提到的<code>ssr</code>选项，可以选择以SSR模式渲染，还是CSR方式渲染</li><li>混合渲染模式（SSR | CSR | SSG | SWR）：需要在 <code>routeRules</code> 根据每个路由动态配置渲染模式</li></ul></div></div></main><footer class="VPDocFooter" data-v-bd80e38e data-v-c9b24adc><!--[--><!--]--><div class="edit-info" data-v-c9b24adc><div class="edit-link" data-v-c9b24adc><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/ZiuChen/ZiuChen.github.io/edit/main/docs/note/SSR.md" target="_blank" rel="noreferrer" data-v-c9b24adc><!--[--><span class="vpi-square-pen edit-link-icon" data-v-c9b24adc></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-c9b24adc><p class="VPLastUpdated" data-v-c9b24adc data-v-75d7882d>Updated Date: <time datetime="2024-05-11T03:41:42.000Z" data-v-75d7882d></time></p></div></div><nav class="prev-next" data-v-c9b24adc><div class="pager" data-v-c9b24adc><!----></div><div class="pager" data-v-c9b24adc><a class="VPLink link pager-link next" href="/project/ClipboardManager/" data-v-c9b24adc><!--[--><span class="desc" data-v-c9b24adc>Next page</span><span class="title" data-v-c9b24adc>超级剪贴板</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-e97aaf30 data-v-a463a474><div class="container" data-v-a463a474><p class="message" data-v-a463a474>Released under the MIT License.</p><p class="copyright" data-v-a463a474>Copyright © 2022-PRESENT ZiuChen</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"article_深入理解浏览器缓存机制.md\":\"DWGcWKZ2\",\"article_一文读懂伪类与伪元素.md\":\"FxPJjFis\",\"demos_promiseify-post-message_inner.md\":\"tmlcmM4g\",\"article_彻底搞懂对象的数据属性描述符、存储属性描述符.md\":\"BWpfm2KD\",\"article_浅析defineproperty与proxy实现的双向绑定.md\":\"C5DwwxeP\",\"article_深入理解浏览器运行原理.md\":\"I4hEE2oa\",\"article_一文读懂事件冒泡与事件捕获.md\":\"DQZC0t36\",\"article_【快手】深入理解前端面试题.md\":\"Cuv6G3kE\",\"article_从0实现一个年度报告.md\":\"DbaD1u47\",\"article_一文读懂函数中this指向问题.md\":\"Ckdj7E6-\",\"article_【用友金融】前端面试题总结.md\":\"UnKxI4SJ\",\"note_front-end engineering.md\":\"CQWvvp9m\",\"note_javascript.md\":\"Cdfevugx\",\"article_【2023】青训营 - 前端练习题汇总解析.md\":\"zMrhcRce\",\"article_深入javascript数据类型.md\":\"BF6NgCGm\",\"article_深入理解proxy与reflect.md\":\"DEHE20Sq\",\"note_mysql.md\":\"9bNzK9c1\",\"article_深入vue3源码，看看vue.use后究竟发生了什么？.md\":\"CxbdcT4x\",\"note_css.md\":\"Bu_urcKY\",\"index.md\":\"h4qnUjkU\",\"demos_promiseify-post-message_index.md\":\"AMcVCGCQ\",\"note_react hooks.md\":\"Ye1DPpJc\",\"article_【字节跳动】前端面试题总结.md\":\"Cx-kQ4S6\",\"project_clipboardmanager_index.md\":\"yrjT__De\",\"project_clipboardmanager_guide_index.md\":\"Di_uFKnZ\",\"project_markdown_shortcut_index.md\":\"CBSzR7Uk\",\"project_smartwordbreak_index.md\":\"BLFtw4jz\",\"note_redux.md\":\"CpLp6_Rs\",\"project_smartwordbreak_log_index.md\":\"Db47_4il\",\"project_smartwordbreak_statement_index.md\":\"K1U36sxm\",\"note_react router.md\":\"BFUSWaU2\",\"project_markdown_index.md\":\"B53iGax9\",\"project_jsrunner_index.md\":\"BQN1I3Qw\",\"project_clipboardmanager_statement_index.md\":\"CfHDzqyE\",\"project_jsrunner_log_index.md\":\"EpCZTrEW\",\"works_opensource.md\":\"BkLSqw5A\",\"self_index.md\":\"BNap9rK-\",\"works_contribution.md\":\"BSfDzMBp\",\"project_markdown_log_index.md\":\"DzP-G03l\",\"note_react.md\":\"DVo8rzMT\",\"project_clipboardmanager_log_index.md\":\"Cqr_LTZ-\",\"note_ssr.md\":\"B8xwNiF5\",\"note_javascriptenhanced.md\":\"Dq5JRk0G\",\"note_rust.md\":\"BDO91qGM\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ZiuChen\",\"description\":\"Unlimited Progress.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"我的项目\",\"items\":[{\"text\":\"超级剪贴板\",\"link\":\"/project/ClipboardManager/\"},{\"text\":\"超级Markdown\",\"link\":\"/project/Markdown/\"},{\"text\":\"超级JavaScript\",\"link\":\"/project/JSRunner/\"},{\"text\":\"超级分词\",\"link\":\"/project/SmartWordBreak/\"}]},{\"text\":\"开源作品\",\"items\":[{\"text\":\"个人作品\",\"link\":\"/works/opensource\"},{\"text\":\"社区贡献\",\"link\":\"/works/contribution\"}]},{\"text\":\"学习笔记\",\"items\":[{\"text\":\"JavaScript基础\",\"link\":\"/note/JavaScript\"},{\"text\":\"CSS基础\",\"link\":\"/note/CSS\"},{\"text\":\"JavaScript进阶\",\"link\":\"/note/JavaScriptEnhanced\"},{\"text\":\"前端工程化\",\"link\":\"/note/Front-end Engineering\"},{\"text\":\"服务端渲染\",\"link\":\"/note/SSR\"},{\"text\":\"React基础\",\"link\":\"/note/React\"},{\"text\":\"React Hooks\",\"link\":\"/note/React Hooks\"},{\"text\":\"Redux\",\"link\":\"/note/Redux\"},{\"text\":\"React Router\",\"link\":\"/note/React Router\"},{\"text\":\"MySQL\",\"link\":\"/note/MySQL\"},{\"text\":\"Rust\",\"link\":\"/note/Rust\"}]},{\"text\":\"个人介绍\",\"link\":\"/self/\"}],\"sidebar\":[{\"text\":\"我的项目\",\"items\":[{\"text\":\"超级剪贴板\",\"link\":\"/project/ClipboardManager/\"},{\"text\":\"超级Markdown\",\"link\":\"/project/Markdown/\"},{\"text\":\"超级JavaScript\",\"link\":\"/project/JSRunner/\"},{\"text\":\"超级分词\",\"link\":\"/project/SmartWordBreak/\"}]},{\"text\":\"开源作品\",\"collapsed\":true,\"items\":[{\"text\":\"个人作品\",\"link\":\"/works/opensource\"},{\"text\":\"社区贡献\",\"link\":\"/works/contribution\"}]},{\"text\":\"文章归档\",\"collapsed\":true,\"items\":[{\"text\":\"【2023】青训营 - 前端练习题汇总解析\",\"link\":\"/article/【2023】青训营 - 前端练习题汇总解析.md\"},{\"text\":\"【字节跳动】前端面试题总结\",\"link\":\"/article/【字节跳动】前端面试题总结.md\"},{\"text\":\"【快手】深入理解前端面试题\",\"link\":\"/article/【快手】深入理解前端面试题.md\"},{\"text\":\"【用友金融】前端面试题总结\",\"link\":\"/article/【用友金融】前端面试题总结.md\"},{\"text\":\"一文读懂事件冒泡与事件捕获\",\"link\":\"/article/一文读懂事件冒泡与事件捕获.md\"},{\"text\":\"一文读懂伪类与伪元素\",\"link\":\"/article/一文读懂伪类与伪元素.md\"},{\"text\":\"一文读懂函数中this指向问题\",\"link\":\"/article/一文读懂函数中this指向问题.md\"},{\"text\":\"从0实现一个年度报告\",\"link\":\"/article/从0实现一个年度报告.md\"},{\"text\":\"彻底搞懂对象的数据属性描述符、存储属性描述符\",\"link\":\"/article/彻底搞懂对象的数据属性描述符、存储属性描述符.md\"},{\"text\":\"浅析defineProperty与Proxy实现的双向绑定\",\"link\":\"/article/浅析defineProperty与Proxy实现的双向绑定.md\"},{\"text\":\"深入JavaScript数据类型\",\"link\":\"/article/深入JavaScript数据类型.md\"},{\"text\":\"深入Vue3源码，看看Vue.use后究竟发生了什么？\",\"link\":\"/article/深入Vue3源码，看看Vue.use后究竟发生了什么？.md\"},{\"text\":\"深入理解Proxy与Reflect\",\"link\":\"/article/深入理解Proxy与Reflect.md\"},{\"text\":\"深入理解浏览器缓存机制\",\"link\":\"/article/深入理解浏览器缓存机制.md\"},{\"text\":\"深入理解浏览器运行原理\",\"link\":\"/article/深入理解浏览器运行原理.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ZiuChen\"},{\"icon\":{\"svg\":\"<svg width=\\\"36\\\" height=\\\"28\\\" viewBox=\\\"0 0 36 28\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M17.5875 6.77268L21.8232 3.40505L17.5875 0.00748237L17.5837 0L13.3555 3.39757L17.5837 6.76894L17.5875 6.77268ZM17.5863 17.3955H17.59L28.5161 8.77432L25.5526 6.39453L17.59 12.6808H17.5863L17.5825 12.6845L9.61993 6.40201L6.66016 8.78181L17.5825 17.3992L17.5863 17.3955ZM17.5828 23.2891L17.5865 23.2854L32.2133 11.7456L35.1768 14.1254L28.5238 19.3752L17.5865 28L0.284376 14.3574L0 14.1291L2.95977 11.7531L17.5828 23.2891Z\\\" fill=\\\"#1E80FF\\\"/></svg>\"},\"link\":\"https://juejin.cn/user/1887205216238477\"}],\"editLink\":{\"pattern\":\"https://github.com/ZiuChen/ZiuChen.github.io/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2022-PRESENT ZiuChen\"},\"lastUpdatedText\":\"Updated Date\",\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"LFZ2CPWWUG\",\"apiKey\":\"b4fd296ea5e467b3ac4a582160ff3122\",\"indexName\":\"ziuchenio\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>