<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Q&amp;A | ZiuChen</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var isDev = document.location.href.indexOf("localhost") !== -1
        var isGitee = document.location.href.indexOf("gitee.io") !== -1
        var hm1 = document.createElement("script");
        hm1.src = "https://hm.baidu.com/hm.js?08b4ef50a9244e83e5a1bd5822442829"; // gitee
        var hm2 = document.createElement("script");
        hm2.src = "https://hm.baidu.com/hm.js?50bac15a1f238d1aa61f104a5fb6f5e0"; // github
        var s = document.getElementsByTagName("script")[0];
        if(isDev) return // 不上报
        if (isGitee) s.parentNode.insertBefore(hm1, s);
        else s.parentNode.insertBefore(hm2, s);
      })();
      </script>        
    </script>
    <meta name="description" content="Unlimited Progress.">
    
    <link rel="preload" href="/assets/css/0.styles.6874de37.css" as="style"><link rel="preload" href="/assets/js/app.d8d700c3.js" as="script"><link rel="preload" href="/assets/js/2.0d228b03.js" as="script"><link rel="preload" href="/assets/js/14.84e577d0.js" as="script"><link rel="prefetch" href="/assets/js/10.e4791bd9.js"><link rel="prefetch" href="/assets/js/11.beff21b1.js"><link rel="prefetch" href="/assets/js/12.07e49628.js"><link rel="prefetch" href="/assets/js/13.084a8803.js"><link rel="prefetch" href="/assets/js/15.8a598a2d.js"><link rel="prefetch" href="/assets/js/16.d2074c5e.js"><link rel="prefetch" href="/assets/js/3.10f12f18.js"><link rel="prefetch" href="/assets/js/4.448136af.js"><link rel="prefetch" href="/assets/js/5.9dcbb289.js"><link rel="prefetch" href="/assets/js/6.452485f4.js"><link rel="prefetch" href="/assets/js/7.b052d7d0.js"><link rel="prefetch" href="/assets/js/8.146d895d.js"><link rel="prefetch" href="/assets/js/9.faf3b1a4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6874de37.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar no-sidebar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/works/" class="nav-link">
  开源作品
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人介绍" class="dropdown-title"><span class="title">个人介绍</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人介绍" class="mobile-dropdown-title"><span class="title">个人介绍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/self/#技术栈" class="nav-link">
  技术栈
</a></li><li class="dropdown-item"><!----> <a href="/self/#获得奖项" class="nav-link">
  获得奖项
</a></li><li class="dropdown-item"><!----> <a href="/self/#相关链接" class="nav-link">
  相关链接
</a></li></ul></div></div> <a href="https://github.com/ZiuChen/ZiuChen.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="q-a"><a href="#q-a" class="header-anchor">#</a> Q&amp;A</h1> <ul><li><p>Q: 为什么偶尔CPU占用特别高? 为什么预览图片时插件卡顿?</p></li> <li><p>A: 这是由<code>超级剪贴板</code>监听剪贴板内容更新的机制决定的，为了不漏数据，<code>超级剪贴板</code>的监听策略为每<code>300ms</code>读取一次剪贴板内容并与上一次读取到的内容作比较。如果剪贴板当前位置是一张大图片，那么插件会反复读取这张图片，导致大量计算被用在了无意义的读取与对比上。</p> <p>插件市场中相同原理的同类插件的处理方法是：</p> <ul><li>轮询比较两次剪贴板内容，如果检查到当前剪贴板内容数据量较大，则降低轮询时间间隔。
<ul><li>这避免了读取大图片/长文本时的高占用，然而这很容易导致漏数据</li></ul></li> <li>轮询比较两次剪贴板内容，由用户自定义轮询时间
<ul><li>用户设置的轮询间隔时间长，读取大图片/长文本时不会导致高占用，但很容易漏数据。</li> <li>用户设置的轮询间隔时间较短，则又会造成高占用</li></ul></li></ul> <p>在<code>v1.4.0</code>版本更新中，<code>超级剪贴板</code>换用了<a href="https://github.com/sudhakar3697/node-clipboard-event" target="_blank" rel="noopener noreferrer"><code>clipboard-event</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>库监听剪贴板更新事件，这种方式性能更优，不需要反复读取剪贴板内容来做比较，而只需要在检查到剪贴板更新事件时通知插件读取一次剪贴板即可，完全解决了CPU占用高、浏览图片卡顿的问题。</p> <p>然而该库包含了二进制文件，这触发了uTools插件市场的安全限制而<strong>无法上架</strong>。所以自<code>v1.4.2</code>起，插件不再内置监听剪贴板更新事件的二进制文件，用户要使用<strong>低占用、高性能的剪贴板监听方案</strong>，可以自行下载并将其移动到剪贴板数据库文件所在目录，详见<a href="/project/ClipboardManager/guide/">如何手动安装<code>clipboard-event-handler</code></a>，插件会自动判断使用新的抑或是旧的方案监听剪贴板更新。同时，自<code>v1.4.3</code>起，你可以在设置页查看当前剪贴板监听程序的运行状态。</p></li></ul> <hr> <ul><li>Q: 为什么官方的剪贴板插件没有CPU占用高这个问题?</li> <li>A: 官方的剪贴板内容更新事件监听函数也是从一个二进制文件引出的，这个二进制文件跟随主程序启动，不受剪贴板插件的打开或关闭的影响。</li></ul> <hr> <ul><li>Q: 为什么剪贴板记录会丢失?</li> <li>A: 从<code>v1.2.2</code>起, 已经从原理上修复了漏数据的问题, 之后的版本若出现漏数据, 一般是由于插件退出后台运行导致的: 插件需要保持后台运行才能记录剪贴板, 请检查:
<ul><li>是否正确设置了插件<code>跟随主程序启动</code></li> <li>是否在分离模式下关闭了插件 (由uTools机制决定, 分离插件模式下关闭插件会直接退出插件, 而不是隐藏到后台)</li> <li>是否手动清理或关闭了后台插件 (使用了clear命令或在插件列表关闭了插件后台运行)</li></ul></li></ul> <hr> <ul><li>Q: 为什么<code>智慧分词</code>功能使用有限制?</li> <li>A: 此功能需要服务器资源, 而服务器资源有限, 故暂时只开放部分的免费资源给大家使用; 如果实际使用量较少, 服务器有能力承担压力, 后续可能会开放限制</li></ul> <hr> <ul><li>Q: 我对这个插件的安全性有担忧</li> <li>A: 担忧大可不必, 插件是开源的, 每行代码的提交记录都可以在<a href="https://githubcom/ZiuChen/ClipboardManager" target="_blank" rel="noopener noreferrer">Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>上完整查看, 如果你有兴趣的话, 我也十分欢迎你为项目贡献代码</li></ul> <hr> <ul><li>Q: 万一你在代码里藏毒, 偷窃我的隐私怎么办?</li> <li>A: 首先, 我写这个插件不是为了获取你的隐私的, 我对你的隐私没有兴趣, 这一点你完全可以放心; 其次uTools官方在插件上架前会对代码进行审查, 如果插件有高危行为, 那也不会过审; 再其次, uTools大部分用户是程序员, 如果我真的在代码里藏了&quot;毒&quot;, 那他们也有办法发现, 如果你真的对你的隐私十分关心, 可以选择从<a href="https://githubcom/ZiuChen/ClipboardManager" target="_blank" rel="noopener noreferrer">开源仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>下载代码自行构建</li></ul> <hr> <ul><li>Q: 我不懂代码, 我也不会构建, 但是我担心你的插件会窃取我的隐私</li> <li>A: 我在贡献教程中详细说明了如何构建, JavaScript也并不是一门很高深的语言, 祝你能早日入门, 构建出安全的版本供自己使用, 学习的过程中遇到任何问题, 也欢迎随时与我交流 😄</li></ul> <hr> <ul><li>Q: 我不管我不管, 你就是藏毒了!</li> <li>A: 你可以开通会员或购买使用官方的剪贴板插件</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ZiuChen/ZiuChen.github.io/edit/main/docs/project/ClipboardManager/statement/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/26/2022, 4:30:25 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d8d700c3.js" defer></script><script src="/assets/js/2.0d228b03.js" defer></script><script src="/assets/js/14.84e577d0.js" defer></script>
  </body>
</html>
